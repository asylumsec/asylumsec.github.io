<!DOCTYPE html>
<!--[if IE 9]><html lang="en-us" class="ie9"><![endif]-->
<!--[if gt IE 9]><!-->
<html lang="en-us">
<!--<![endif]-->
  <head>
    <title>Red Hat DoD Latest | Red Hat Satellite | Quick Start</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- iPad retina icon -->
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../latest/_images/apple-touch-icon-precomposed-152.png">
    <!-- iPad retina icon (iOS < 7) -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../latest/_images/apple-touch-icon-precomposed-144.png">
    <!-- iPad non-retina icon -->
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../latest/_images/apple-touch-icon-precomposed-76.png">
    <!-- iPad non-retina icon (iOS < 7) -->
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../latest/_images/apple-touch-icon-precomposed-72.png">
    <!-- iPhone 6 Plus icon -->
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../latest/_images/apple-touch-icon-precomposed-180.png">
    <!-- iPhone retina icon (iOS < 7) -->
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../latest/_images/apple-touch-icon-precomposed-144.png">
    <!-- iPhone non-retina icon (iOS < 7) -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../latest/_images/apple-touch-icon-precomposed-57.png">
    <!-- Patternfly CSS -->
    <link href="../../latest/_stylesheets/asciibinder.css" rel="stylesheet" />
    <link href="../../latest/_stylesheets/patternfly.min.css" rel="stylesheet" />
    <link href="../../latest/_stylesheets/patternfly-additions.min.css" rel="stylesheet" />
    <link href="../../latest/_stylesheets/docs.css" rel="stylesheet" />
    <!-- Patternfly JS -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>
    <script src="../../latest/_javascripts/patternfly.min.js" type="text/javascript"></script>
    <script src="../../latest/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>

    <!-- Favicon -->

    <link href="../../latest/_images/shadowman.ico" rel="shortcut icon" type="text/css">
    <!--[if IE]><link rel="shortcut icon" href="../../latest/_images/shadowman.ico"><![endif]-->
  </head>
  <nav class="navbar navbar-default navbar-pf" role="navigation">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">
        <img src="../../latest/_images/logo.svg" alt="Red Hat NAPS" class="img-responsive"/>
      </a>
    </div>
    <div class="collapse navbar-collapse navbar-collapse-1">
      <ul class="nav navbar-nav navbar-primary">
        <li>
          <a href="/index.html">Home</a>
        </li>
        <li class="active">
          <a href="latest/welcome">Latest Docs</a>
        </li>
        <li>
          <a href="https://github.com/redhatdod" target="_blank">Red Hat DoD Github</a>
        </li>
          <li>
            <a href="https://access.redhat.com/support/" target="_blank">Help</a>
          </li>
          <li>
            <a href="https://access.redhat.com/documentation" target="_blank">Offical Red Hat Documentation</a>
          </li>
      </ul>
    </div>
  </nav>

  <body>
    <div class="container-fluid">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="hidden-xs active">
        <a href="../welcome/index.html">Red Hat DoD Latest</a>
      </li>
      <li class="hidden-xs active">
        <a href="../satellite/index.html">Red Hat Satellite</a>
      </li>
      
      <li class="hidden-xs active">
        Quick Start
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="#" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>Welcome
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../welcome/index.html">Getting Started</a></li>
            <li><a class="" href="../welcome/tools.html">Tools</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="#" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-down"></span>Red Hat Satellite
      </a>
      <ul id="topicGroup1" class="collapse in list-unstyled">
            <li><a class="" href="../satellite/index.html">Overview</a></li>
            <li><a class=" active" href="../satellite/quickstart.html">Quick Start</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h2>Red Hat Satellite</h2>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#quick-start">Quick Start</a>
<ul class="sectlevel3">
<li><a href="#export-the-variables">Export the Variables</a></li>
<li><a href="#setup-the-subscriptions">Setup the Subscriptions</a></li>
<li><a href="#copy-and-paste-deploy">Copy and Paste deploy</a></li>
</ul>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>This document is still a work in progress! When this label is removed, you can consider this fully functional.</strong></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quick-start"><a class="anchor" href="#quick-start"></a>Quick Start</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is designed to provide a copy and paste quick start for <strong>demo</strong> enviorments. This is not intended for <strong>production</strong> enviroments.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="export-the-variables"><a class="anchor" href="#export-the-variables"></a>Export the Variables</h4>
<div class="paragraph">
<p>First we start by setting a couple environment variables. These will serve the rest of the copy and paste operation.</p>
</div>
<div class="paragraph">
<p><strong>You only need to set the first 4 variables, the rest is automated via bash for you</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">export HOST=satellite.redhatdod.local <i class="conum" data-value="1"></i><b>(1)</b>
export ADMINUSER=administrator <i class="conum" data-value="2"></i><b>(2)</b>
export ADMINPASS=supersecretpassword <i class="conum" data-value="3"></i><b>(3)</b>
export IFACE=eth0 <i class="conum" data-value="4"></i><b>(4)</b>
export SUBNET=$(ip -f inet address show $IFACE |grep inet|awk '{print $2}' |awk -F. '{print $1"." $2"."$3}') <i class="conum" data-value="5"></i><b>(5)</b>
export REVSUB=$(echo $SUBNET |awk -F. '{print $3"." $2"."$1}') <i class="conum" data-value="6"></i><b>(6)</b>
export IPADDR=$(ip -f inet address show $IFACE |grep inet|awk '{print $2}' |cut -f1 -d '/') <i class="conum" data-value="7"></i><b>(7)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Change this variable to the hostname you are going to use for your satellite</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This is the admin user you will create, feel free to change the name to suit your liking</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Please change this value to a password that is actually secure</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><strong>This is the interface you are using for Satellite</strong> This value is what the next three variables are based from!</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>This is the subnet you will run DHCP and DNS on for satellite</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>This take the subnet you entered and provides the reverse for DNS</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>This gets your ip address based on the interface you gave in step 5</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>If you are not comfortable setting a password on the command line, you can not export the ADMINPASS variable.</strong></p>
</div>
<div class="paragraph">
<p><strong>Satellite will generate one for you if one is not created</strong></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="setup-the-subscriptions"><a class="anchor" href="#setup-the-subscriptions"></a>Setup the Subscriptions</h4>
<div class="paragraph">
<p>Next we are going to setup your subscriptions with subscription-manager.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>NOTE to maintainer</strong> This section needs to be updated with a more automated/copy&amp;paste way to do this</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">subscription-manager register
subscription-manager list --available --matches 'Red Hat Satellite'</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="copy-and-paste-deploy"><a class="anchor" href="#copy-and-paste-deploy"></a>Copy and Paste deploy</h4>
<div class="paragraph">
<p>Now you can copy and paste from below, and you will have a complete satellite install upon completion.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">echo "$IPADDR $HOST" &gt;&gt; /etc/hosts
hostnamectl set-hostname $HOST
firewall-cmd --add-service=RH-Satellite-6
firewall-cmd --permanent --add-service=RH-Satellite-6
subscription-manager repos --disable "*"
subscription-manager repos --enable=rhel-7-server-rpms \
--enable=rhel-server-rhscl-7-rpms \
--enable=rhel-7-server-satellite-6.2-rpms
yum clean all
yum -y update
yum -y install satellite chrony sos
systemctl start chronyd
systemctl enable chronyd
satellite-installer --scenario satellite \
--foreman-initial-organization "Red Hat DoD" \
--foreman-initial-location "Local Systems" \
--foreman-admin-username $ADMINUSER \
--foreman-admin-password $ADMINPASS \
--foreman-proxy-dns true \
--foreman-proxy-dns-interface $IFACE \
--foreman-proxy-dns-zone $(hostname -d) \
--foreman-proxy-dns-forwarders $SUBNET.1 \
--foreman-proxy-dns-reverse $REVSUB.in-addr.arpa \
--foreman-proxy-dhcp true \
--foreman-proxy-dhcp-interface $IFACE \
--foreman-proxy-dhcp-range "$SUBNET.100 $SUBNET.150" \
--foreman-proxy-dhcp-gateway $SUBNET.1 \
--foreman-proxy-dhcp-nameservers $SUBNET.2 \
--foreman-proxy-tftp true \
--foreman-proxy-tftp-servername $IPADDR</pre>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>

    </div><!-- /container -->
<script type="text/javascript">
 /*<![CDATA[*/
 $(document).ready(function() {
   $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
     if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
       $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
     }
   });
   $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
     if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
       $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
     }
   });
   $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
     $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
   });
   $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
     $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
   });
 });
 /*]]>*/
</script>
  <footer class="footer">
    <br/>
    <br/>
    <br/>
</footer>
</body>
</html>